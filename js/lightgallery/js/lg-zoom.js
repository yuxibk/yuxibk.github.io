!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,t.LgZoom=e()}}(function(){var e;return function t(e,r,o){function i(s,a){if(!r[s]){if(!e[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(n)return n(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};e[s][0].call(c.exports,function(t){var r=e[s][1][t];return i(r?r:t)},c,c.exports,t,e,r,o)}return r[s].exports}for(var n="function"==typeof require&&require,s=0;s<o.length;s++)i(o[s]);return i}({1:[function(t,r,o){!function(t,r){if("function"==typeof e&&e.amd)e([],r);else if("undefined"!=typeof o)r();else{var i={exports:{}};r(),t.lgZoom=i.exports}}(this,function(){"use strict";var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},t={scale:1,zoom:!0,actualSize:!0,enableZoomAfter:300},r=function(r){return this.el=r,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=e({},t,this.core.s),this.core.s.zoom&&this.core.doCss()&&(this.init(),this.zoomabletimeout=!1,this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)),this};r.prototype.init=function(){var e=this,t='<span id="lg-zoom-in" class="lg-icon"></span><span id="lg-zoom-out" class="lg-icon"></span>';e.core.s.actualSize&&(t+='<span id="lg-actual-size" class="lg-icon"></span>'),this.core.outer.querySelector(".lg-toolbar").insertAdjacentHTML("beforeend",t),utils.on(e.core.el,"onSlideItemLoad.lgtmzoom",function(t){var r=e.core.s.enableZoomAfter+t.detail.delay;utils.hasClass(document.body,"lg-from-hash")&&t.detail.delay?r=0:utils.removeClass(document.body,"lg-from-hash"),e.zoomabletimeout=setTimeout(function(){utils.addClass(e.core.___slide[t.detail.index],"lg-zoomable")},r+30)});var r=1,o=function(t){var r,o,i=e.core.outer.querySelector(".lg-current .lg-image"),n=(window.innerWidth-i.clientWidth)/2,s=(window.innerHeight-i.clientHeight)/2+(document.documentElement.scrollTop||document.body.scrollTop);r=e.pageX-n,o=e.pageY-s;var a=(t-1)*r,l=(t-1)*o;utils.setVendor(i,"Transform","scale3d("+t+", "+t+", 1)"),i.setAttribute("data-scale",t),i.parentElement.style.left=-a+"px",i.parentElement.style.top=-l+"px",i.parentElement.setAttribute("data-x",a),i.parentElement.setAttribute("data-y",l)},i=function(){r>1?utils.addClass(e.core.outer,"lg-zoomed"):e.resetZoom(),1>r&&(r=1),o(r)},n=function(t,o,n,s){var a,l=o.clientWidth;a=e.core.s.dynamic?e.core.s.dynamicEl[n].width||o.naturalWidth||l:e.core.items[n].getAttribute("data-width")||o.naturalWidth||l;var u;utils.hasClass(e.core.outer,"lg-zoomed")?r=1:a>l&&(u=a/l,r=u||2),s?(e.pageX=window.innerWidth/2,e.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)):(e.pageX=t.pageX||t.targetTouches[0].pageX,e.pageY=t.pageY||t.targetTouches[0].pageY),i(),setTimeout(function(){utils.removeClass(e.core.outer,"lg-grabbing"),utils.addClass(e.core.outer,"lg-grab")},10)},s=!1;utils.on(e.core.el,"onAferAppendSlide.lgtmzoom",function(t){var r=t.detail.index,o=e.core.___slide[r].querySelector(".lg-image");e.core.isTouch||utils.on(o,"dblclick",function(e){n(e,o,r)}),e.core.isTouch&&utils.on(o,"touchstart",function(e){s?(clearTimeout(s),s=null,n(e,o,r)):s=setTimeout(function(){s=null},300),e.preventDefault()})}),utils.on(window,"resize.lgzoom scroll.lgzoom orientationchange.lgzoom",function(){e.pageX=window.innerWidth/2,e.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop),o(r)}),utils.on(document.getElementById("lg-zoom-out"),"click.lg",function(){e.core.outer.querySelector(".lg-current .lg-image")&&(r-=e.core.s.scale,i())}),utils.on(document.getElementById("lg-zoom-in"),"click.lg",function(){e.core.outer.querySelector(".lg-current .lg-image")&&(r+=e.core.s.scale,i())}),utils.on(document.getElementById("lg-actual-size"),"click.lg",function(t){n(t,e.core.___slide[e.core.index].querySelector(".lg-image"),e.core.index,!0)}),utils.on(e.core.el,"onBeforeSlide.lgtm",function(){r=1,e.resetZoom()}),e.core.isTouch||e.zoomDrag(),e.core.isTouch&&e.zoomSwipe()},r.prototype.resetZoom=function(){utils.removeClass(this.core.outer,"lg-zoomed");for(var e=0;e<this.core.___slide.length;e++)this.core.___slide[e].querySelector(".lg-img-wrap")&&(this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("style"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-x"),this.core.___slide[e].querySelector(".lg-img-wrap").removeAttribute("data-y"));for(var t=0;t<this.core.___slide.length;t++)this.core.___slide[t].querySelector(".lg-image")&&(this.core.___slide[t].querySelector(".lg-image").removeAttribute("style"),this.core.___slide[t].querySelector(".lg-image").removeAttribute("data-scale"));this.pageX=window.innerWidth/2,this.pageY=window.innerHeight/2+(document.documentElement.scrollTop||document.body.scrollTop)},r.prototype.zoomSwipe=function(){for(var e=this,t={},r={},o=!1,i=!1,n=!1,s=0;s<e.core.___slide.length;s++)utils.on(e.core.___slide[s],"touchstart.lg",function(r){if(utils.hasClass(e.core.outer,"lg-zoomed")){var o=e.core.___slide[e.core.index].querySelector(".lg-object");n=o.offsetHeight*o.getAttribute("data-scale")>e.core.outer.querySelector(".lg").clientHeight,i=o.offsetWidth*o.getAttribute("data-scale")>e.core.outer.querySelector(".lg").clientWidth,(i||n)&&(r.preventDefault(),t={x:r.targetTouches[0].pageX,y:r.targetTouches[0].pageY})}});for(var a=0;a<e.core.___slide.length;a++)utils.on(e.core.___slide[a],"touchmove.lg",function(s){if(utils.hasClass(e.core.outer,"lg-zoomed")){var a,l,u=e.core.___slide[e.core.index].querySelector(".lg-img-wrap");s.preventDefault(),o=!0,r={x:s.targetTouches[0].pageX,y:s.targetTouches[0].pageY},utils.addClass(e.core.outer,"lg-zoom-dragging"),l=n?-Math.abs(u.getAttribute("data-y"))+(r.y-t.y):-Math.abs(u.getAttribute("data-y")),a=i?-Math.abs(u.getAttribute("data-x"))+(r.x-t.x):-Math.abs(u.getAttribute("data-x")),(Math.abs(r.x-t.x)>15||Math.abs(r.y-t.y)>15)&&(u.style.left=a+"px",u.style.top=l+"px")}});for(var l=0;l<e.core.___slide.length;l++)utils.on(e.core.___slide[l],"touchend.lg",function(){utils.hasClass(e.core.outer,"lg-zoomed")&&o&&(o=!1,utils.removeClass(e.core.outer,"lg-zoom-dragging"),e.touchendZoom(t,r,i,n))})},r.prototype.zoomDrag=function(){for(var e=this,t={},r={},o=!1,i=!1,n=!1,s=!1,a=0;a<e.core.___slide.length;a++)utils.on(e.core.___slide[a],"mousedown.lgzoom",function(r){var i=e.core.___slide[e.core.index].querySelector(".lg-object");s=i.offsetHeight*i.getAttribute("data-scale")>e.core.outer.querySelector(".lg").clientHeight,n=i.offsetWidth*i.getAttribute("data-scale")>e.core.outer.querySelector(".lg").clientWidth,utils.hasClass(e.core.outer,"lg-zoomed")&&utils.hasClass(r.target,"lg-object")&&(n||s)&&(r.preventDefault(),t={x:r.pageX,y:r.pageY},o=!0,e.core.outer.scrollLeft+=1,e.core.outer.scrollLeft-=1,utils.removeClass(e.core.outer,"lg-grab"),utils.addClass(e.core.outer,"lg-grabbing"))});utils.on(window,"mousemove.lgzoom",function(a){if(o){var l,u,c=e.core.___slide[e.core.index].querySelector(".lg-img-wrap");i=!0,r={x:a.pageX,y:a.pageY},utils.addClass(e.core.outer,"lg-zoom-dragging"),u=s?-Math.abs(c.getAttribute("data-y"))+(r.y-t.y):-Math.abs(c.getAttribute("data-y")),l=n?-Math.abs(c.getAttribute("data-x"))+(r.x-t.x):-Math.abs(c.getAttribute("data-x")),c.style.left=l+"px",c.style.top=u+"px"}}),utils.on(window,"mouseup.lgzoom",function(a){o&&(o=!1,utils.removeClass(e.core.outer,"lg-zoom-dragging"),!i||t.x===r.x&&t.y===r.y||(r={x:a.pageX,y:a.pageY},e.touchendZoom(t,r,n,s)),i=!1),utils.removeClass(e.core.outer,"lg-grabbing"),utils.addClass(e.core.outer,"lg-grab")})},r.prototype.touchendZoom=function(e,t,r,o){var i=this,n=i.core.___slide[i.core.index].querySelector(".lg-img-wrap"),s=i.core.___slide[i.core.index].querySelector(".lg-object"),a=-Math.abs(n.getAttribute("data-x"))+(t.x-e.x),l=-Math.abs(n.getAttribute("data-y"))+(t.y-e.y),u=(i.core.outer.querySelector(".lg").clientHeight-s.offsetHeight)/2,c=Math.abs(s.offsetHeight*Math.abs(s.getAttribute("data-scale"))-i.core.outer.querySelector(".lg").clientHeight+u),d=(i.core.outer.querySelector(".lg").clientWidth-s.offsetWidth)/2,h=Math.abs(s.offsetWidth*Math.abs(s.getAttribute("data-scale"))-i.core.outer.querySelector(".lg").clientWidth+d);(Math.abs(t.x-e.x)>15||Math.abs(t.y-e.y)>15)&&(o&&(-c>=l?l=-c:l>=-u&&(l=-u)),r&&(-h>=a?a=-h:a>=-d&&(a=-d)),o?n.setAttribute("data-y",Math.abs(l)):l=-Math.abs(n.getAttribute("data-y")),r?n.setAttribute("data-x",Math.abs(a)):a=-Math.abs(n.getAttribute("data-x")),n.style.left=a+"px",n.style.top=l+"px")},r.prototype.destroy=function(){var e=this;utils.off(e.core.el,".lgzoom"),utils.off(window,".lgzoom");for(var t=0;t<e.core.___slide.length;t++)utils.off(e.core.___slide[t],".lgzoom");utils.off(e.core.el,".lgtmzoom"),e.resetZoom(),clearTimeout(e.zoomabletimeout),e.zoomabletimeout=!1},window.lgModules.zoom=r})},{}]},{},[1])(1)});