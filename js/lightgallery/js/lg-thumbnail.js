!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.LgThumbnail=t()}}(function(){var t;return function e(t,r,n){function i(s,a){if(!r[s]){if(!t[s]){var l="function"==typeof require&&require;if(!a&&l)return l(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=r[s]={exports:{}};t[s][0].call(c.exports,function(e){var r=t[s][1][e];return i(r?r:e)},c,c.exports,e,t,r,n)}return r[s].exports}for(var o="function"==typeof require&&require,s=0;s<n.length;s++)i(n[s]);return i}({1:[function(e,r,n){!function(e,r){if("function"==typeof t&&t.amd)t([],r);else if("undefined"!=typeof n)r();else{var i={exports:{}};r(),e.lgThumbnail=i.exports}}(this,function(){"use strict";var t=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},e={thumbnail:!0,animateThumb:!0,currentPagerPosition:"middle",thumbWidth:100,thumbContHeight:100,thumbMargin:5,exThumbImage:!1,showThumbByDefault:!0,toggleThumb:!0,pullCaptionUp:!0,enableThumbDrag:!0,enableThumbSwipe:!0,swipeThreshold:50,loadYoutubeThumbnail:!0,youtubeThumbSize:1,loadVimeoThumbnail:!0,vimeoThumbSize:"thumbnail_small",loadDailymotionThumbnail:!0},r=function(r){return this.el=r,this.core=window.lgData[this.el.getAttribute("lg-uid")],this.core.s=t({},e,this.core.s),this.thumbOuter=null,this.thumbOuterWidth=0,this.thumbTotalWidth=this.core.items.length*(this.core.s.thumbWidth+this.core.s.thumbMargin),this.thumbIndex=this.core.index,this.left=0,this.init(),this};r.prototype.init=function(){var t=this;this.core.s.thumbnail&&this.core.items.length>1&&(this.core.s.showThumbByDefault&&setTimeout(function(){utils.addClass(t.core.outer,"lg-thumb-open")},700),this.core.s.pullCaptionUp&&utils.addClass(this.core.outer,"lg-pull-caption-up"),this.build(),this.core.s.animateThumb?(this.core.s.enableThumbDrag&&!this.core.isTouch&&this.core.doCss()&&this.enableThumbDrag(),this.core.s.enableThumbSwipe&&this.core.isTouch&&this.core.doCss()&&this.enableThumbSwipe(),this.thumbClickable=!1):this.thumbClickable=!0,this.toggle(),this.thumbkeyPress())},r.prototype.build=function(){function t(t,e,o){var s,a=r.core.isVideo(t,o)||{},l="";a.youtube||a.vimeo||a.dailymotion?a.youtube?s=r.core.s.loadYoutubeThumbnail?"//img.youtube.com/vi/"+a.youtube[1]+"/"+r.core.s.youtubeThumbSize+".jpg":e:a.vimeo?r.core.s.loadVimeoThumbnail?(s="//i.vimeocdn.com/video/error_"+i+".jpg",l=a.vimeo[1]):s=e:a.dailymotion&&(s=r.core.s.loadDailymotionThumbnail?"//www.dailymotion.com/thumbnail/video/"+a.dailymotion[1]:e):s=e,n+='<div data-vimeo-id="'+l+'" class="lg-thumb-item" style="width:'+r.core.s.thumbWidth+"px; margin-right: "+r.core.s.thumbMargin+'px"><img src="'+s+'" /></div>',l=""}var e,r=this,n="",i="",o='<div class="lg-thumb-outer"><div class="lg-thumb group"></div></div>';switch(this.core.s.vimeoThumbSize){case"thumbnail_large":i="640";break;case"thumbnail_medium":i="200x150";break;case"thumbnail_small":i="100x75"}if(utils.addClass(r.core.outer,"lg-has-thumb"),r.core.outer.querySelector(".lg").insertAdjacentHTML("beforeend",o),r.thumbOuter=r.core.outer.querySelector(".lg-thumb-outer"),r.thumbOuterWidth=r.thumbOuter.offsetWidth,r.core.s.animateThumb&&(r.core.outer.querySelector(".lg-thumb").style.width=r.thumbTotalWidth+"px",r.core.outer.querySelector(".lg-thumb").style.position="relative"),this.core.s.animateThumb&&(r.thumbOuter.style.height=r.core.s.thumbContHeight+"px"),r.core.s.dynamic)for(var s=0;s<r.core.s.dynamicEl.length;s++)t(r.core.s.dynamicEl[s].src,r.core.s.dynamicEl[s].thumb,s);else for(var a=0;a<r.core.items.length;a++)r.core.s.exThumbImage?t(r.core.items[a].getAttribute("href")||r.core.items[a].getAttribute("data-src"),r.core.items[a].getAttribute(r.core.s.exThumbImage),a):t(r.core.items[a].getAttribute("href")||r.core.items[a].getAttribute("data-src"),r.core.items[a].querySelector("img").getAttribute("src"),a);r.core.outer.querySelector(".lg-thumb").innerHTML=n,e=r.core.outer.querySelectorAll(".lg-thumb-item");for(var l=0;l<e.length;l++)!function(t){var n=e[t],i=n.getAttribute("data-vimeo-id");if(i){window["lgJsonP"+r.el.getAttribute("lg-uid")+l]=function(t){n.querySelector("img").setAttribute("src",t[0][r.core.s.vimeoThumbSize])};var o=document.createElement("script");o.className="lg-script",o.src="//www.vimeo.com/api/v2/video/"+i+".json?callback=lgJsonP"+r.el.getAttribute("lg-uid")+l,document.body.appendChild(o)}}(l);utils.addClass(e[r.core.index],"active"),utils.on(r.core.el,"onBeforeSlide.lgtm",function(){for(var t=0;t<e.length;t++)utils.removeClass(e[t],"active");utils.addClass(e[r.core.index],"active")});for(var u=0;u<e.length;u++)!function(t){utils.on(e[t],"click.lg touchend.lg",function(){setTimeout(function(){(r.thumbClickable&&!r.core.lgBusy||!r.core.doCss())&&(r.core.index=t,r.core.slide(r.core.index,!1,!0))},50)})}(u);utils.on(r.core.el,"onBeforeSlide.lgtm",function(){r.animateThumb(r.core.index)}),utils.on(window,"resize.lgthumb orientationchange.lgthumb",function(){setTimeout(function(){r.animateThumb(r.core.index),r.thumbOuterWidth=r.thumbOuter.offsetWidth},200)})},r.prototype.setTranslate=function(t){utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"Transform","translate3d(-"+t+"px, 0px, 0px)")},r.prototype.animateThumb=function(t){var e=this.core.outer.querySelector(".lg-thumb");if(this.core.s.animateThumb){var r;switch(this.core.s.currentPagerPosition){case"left":r=0;break;case"middle":r=this.thumbOuterWidth/2-this.core.s.thumbWidth/2;break;case"right":r=this.thumbOuterWidth-this.core.s.thumbWidth}this.left=(this.core.s.thumbWidth+this.core.s.thumbMargin)*t-1-r,this.left>this.thumbTotalWidth-this.thumbOuterWidth&&(this.left=this.thumbTotalWidth-this.thumbOuterWidth),this.left<0&&(this.left=0),this.core.lGalleryOn?(utils.hasClass(e,"on")||utils.setVendor(this.core.outer.querySelector(".lg-thumb"),"TransitionDuration",this.core.s.speed+"ms"),this.core.doCss()||(e.style.left=-this.left+"px")):this.core.doCss()||(e.style.left=-this.left+"px"),this.setTranslate(this.left)}},r.prototype.enableThumbDrag=function(){var t=this,e=0,r=0,n=!1,i=!1,o=0;utils.addClass(t.thumbOuter,"lg-grab"),utils.on(t.core.outer.querySelector(".lg-thumb"),"mousedown.lgthumb",function(r){t.thumbTotalWidth>t.thumbOuterWidth&&(r.preventDefault(),e=r.pageX,n=!0,t.core.outer.scrollLeft+=1,t.core.outer.scrollLeft-=1,t.thumbClickable=!1,utils.removeClass(t.thumbOuter,"lg-grab"),utils.addClass(t.thumbOuter,"lg-grabbing"))}),utils.on(window,"mousemove.lgthumb",function(s){n&&(o=t.left,i=!0,r=s.pageX,utils.addClass(t.thumbOuter,"lg-dragging"),o-=r-e,o>t.thumbTotalWidth-t.thumbOuterWidth&&(o=t.thumbTotalWidth-t.thumbOuterWidth),0>o&&(o=0),t.setTranslate(o))}),utils.on(window,"mouseup.lgthumb",function(){i?(i=!1,utils.removeClass(t.thumbOuter,"lg-dragging"),t.left=o,Math.abs(r-e)<t.core.s.swipeThreshold&&(t.thumbClickable=!0)):t.thumbClickable=!0,n&&(n=!1,utils.removeClass(t.thumbOuter,"lg-grabbing"),utils.addClass(t.thumbOuter,"lg-grab"))})},r.prototype.enableThumbSwipe=function(){var t=this,e=0,r=0,n=!1,i=0;utils.on(t.core.outer.querySelector(".lg-thumb"),"touchstart.lg",function(r){t.thumbTotalWidth>t.thumbOuterWidth&&(r.preventDefault(),e=r.targetTouches[0].pageX,t.thumbClickable=!1)}),utils.on(t.core.outer.querySelector(".lg-thumb"),"touchmove.lg",function(o){t.thumbTotalWidth>t.thumbOuterWidth&&(o.preventDefault(),r=o.targetTouches[0].pageX,n=!0,utils.addClass(t.thumbOuter,"lg-dragging"),i=t.left,i-=r-e,i>t.thumbTotalWidth-t.thumbOuterWidth&&(i=t.thumbTotalWidth-t.thumbOuterWidth),0>i&&(i=0),t.setTranslate(i))}),utils.on(t.core.outer.querySelector(".lg-thumb"),"touchend.lg",function(){t.thumbTotalWidth>t.thumbOuterWidth?n?(n=!1,utils.removeClass(t.thumbOuter,"lg-dragging"),Math.abs(r-e)<t.core.s.swipeThreshold&&(t.thumbClickable=!0),t.left=i):t.thumbClickable=!0:t.thumbClickable=!0})},r.prototype.toggle=function(){var t=this;t.core.s.toggleThumb&&(utils.addClass(t.core.outer,"lg-can-toggle"),t.thumbOuter.insertAdjacentHTML("beforeend",'<span class="lg-toggle-thumb lg-icon"></span>'),utils.on(t.core.outer.querySelector(".lg-toggle-thumb"),"click.lg",function(){utils.hasClass(t.core.outer,"lg-thumb-open")?utils.removeClass(t.core.outer,"lg-thumb-open"):utils.addClass(t.core.outer,"lg-thumb-open")}))},r.prototype.thumbkeyPress=function(){var t=this;utils.on(window,"keydown.lgthumb",function(e){38===e.keyCode?(e.preventDefault(),utils.addClass(t.core.outer,"lg-thumb-open")):40===e.keyCode&&(e.preventDefault(),utils.removeClass(t.core.outer,"lg-thumb-open"))})},r.prototype.destroy=function(){if(this.core.s.thumbnail&&this.core.items.length>1){utils.off(window,".lgthumb"),this.thumbOuter.parentNode.removeChild(this.thumbOuter),utils.removeClass(this.core.outer,"lg-has-thumb");for(var t=document.getElementsByClassName("lg-script");t[0];)t[0].parentNode.removeChild(t[0])}},window.lgModules.thumbnail=r})},{}]},{},[1])(1)});